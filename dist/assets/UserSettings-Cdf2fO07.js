import{e as g,D as M,h as m,w as a,j as t,o as i,k as n,l as d,m as P,n as c,E as l,t as R}from"./index-PvgVEVjR.js";import{u as A}from"./useUserSettings-F13pn6Yx.js";const T={__name:"UserSettings",setup(E){const{settings:o,loading:b,error:v,success:y,fetchUserSettings:V,saveUserSettings:U}=A(),u=g(null),r=g(null);M(async()=>{await V(),o.value.logoUrl&&(r.value=o.value.logoUrl)});const x=p=>{const e=p.target.files[0];e?(u.value=e,r.value=URL.createObjectURL(e)):(u.value=null,r.value=o.value.logoUrl||null)},S=async()=>{await U(u.value)};return(p,e)=>{const N=t("v-card-title"),_=t("v-text-field"),w=t("v-textarea"),C=t("v-file-input"),k=t("v-img"),f=t("v-alert"),B=t("v-btn"),L=t("v-form"),j=t("v-card-text"),D=t("v-card"),F=t("v-container");return i(),m(F,null,{default:a(()=>[n(D,{class:"pa-4"},{default:a(()=>[n(N,{class:"text-h5 font-weight-bold mb-4"},{default:a(()=>[...e[4]||(e[4]=[d("Business Information",-1)])]),_:1}),n(j,null,{default:a(()=>[n(L,{onSubmit:P(S,["prevent"])},{default:a(()=>[n(_,{modelValue:l(o).companyName,"onUpdate:modelValue":e[0]||(e[0]=s=>l(o).companyName=s),label:"Company Name",variant:"outlined",class:"mb-4"},null,8,["modelValue"]),n(w,{modelValue:l(o).address,"onUpdate:modelValue":e[1]||(e[1]=s=>l(o).address=s),label:"Address",variant:"outlined",class:"mb-4"},null,8,["modelValue"]),n(_,{modelValue:l(o).phoneNumber,"onUpdate:modelValue":e[2]||(e[2]=s=>l(o).phoneNumber=s),label:"Phone Number",variant:"outlined",class:"mb-4"},null,8,["modelValue"]),n(C,{modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=s=>u.value=s),label:"Company Logo",accept:"image/*",variant:"outlined",class:"mb-4",onChange:x},null,8,["modelValue"]),r.value?(i(),m(k,{key:0,src:r.value,height:"100",class:"mb-4"},null,8,["src"])):c("",!0),l(v)?(i(),m(f,{key:1,type:"error",class:"mb-4"},{default:a(()=>[d(R(l(v)),1)]),_:1})):c("",!0),l(y)?(i(),m(f,{key:2,type:"success",class:"mb-4"},{default:a(()=>[...e[5]||(e[5]=[d("Settings saved successfully!",-1)])]),_:1})):c("",!0),n(B,{type:"submit",color:"primary",loading:l(b)},{default:a(()=>[...e[6]||(e[6]=[d("Save Settings",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})}}};export{T as default};
