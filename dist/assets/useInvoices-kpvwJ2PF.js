import{e as c,T as f,y as a,U,V as h,W as i,X as m,Y as p,Q as l}from"./index-PvgVEVjR.js";function b(){const o=c([]),s=c(!1),n=c(null);let r=null;const d=()=>{if(a.currentUser){s.value=!0;const u=U(i(l,"invoices"),h("uid","==",a.currentUser.uid));r=m(u,e=>{o.value=e.docs.map(t=>({id:t.id,...t.data()})),s.value=!1},e=>{n.value=e,s.value=!1})}},v=async u=>{if(a.currentUser)try{await p(i(l,"invoices"),{...u,uid:a.currentUser.uid})}catch(e){n.value=e}};return f(()=>{r&&r()}),{invoices:o,loading:s,error:n,fetchInvoices:d,addInvoice:v}}export{b as u};
